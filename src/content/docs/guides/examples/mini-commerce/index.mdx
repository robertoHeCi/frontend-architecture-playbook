---
title: Mini Commerce
description: Practical example of an online store using layered architecture
---

# Mini Commerce - WIP

A practical example of an online store that demonstrates layered architecture principles.

## Features

- ğŸ›ï¸ Product catalog
- ğŸ›’ Shopping cart
- ğŸ” Product filtering
- ğŸ’° Total calculation

## Project Structure

```
src/
â”œâ”€â”€ app/                 # App shell (router, providers)
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ cart/           # Shopping cart
â”‚   â”‚   â”œâ”€â”€ components/ # UI components
â”‚   â”‚   â”œâ”€â”€ hooks/      # Business logic
â”‚   â”‚   â””â”€â”€ types.ts    # Types
â”‚   â””â”€â”€ product/        # Product catalog
â”‚       â”œâ”€â”€ components/ # UI components
â”‚       â”œâ”€â”€ hooks/      # Business logic
â”‚       â””â”€â”€ types.ts    # Types
â”œâ”€â”€ entities/
â”‚   â””â”€â”€ product/        # Product service
â”‚       â”œâ”€â”€ api.ts      # API calls
â”‚       â”œâ”€â”€ types.ts    # Types
â”‚       â””â”€â”€ mapper.ts   # Data transformation
â””â”€â”€ shared/             # Components and utilities
    â”œâ”€â”€ components/     # Reusable components
    â”œâ”€â”€ hooks/          # Shared hooks
    â””â”€â”€ utils/          # Utilities
```

## Implementation

### 1. Entities

```tsx
// entities/product/types.ts
interface Product {
  id: string;
  name: string;
  price: number;
  description: string;
  image: string;
}

// entities/product/api.ts
async function getProducts(): Promise<Product[]> {
  const response = await fetch('/api/products');
  return response.json();
}
```

### 2. Features

```tsx
// features/product/hooks/useProducts.ts
function useProducts() {
  const [products, setProducts] = useState<Product[]>([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    getProducts()
      .then(setProducts)
      .finally(() => setLoading(false));
  }, []);

  return { products, loading };
}

// features/cart/hooks/useCart.ts
function useCart() {
  const [items, setItems] = useState<CartItem[]>([]);

  const addItem = (product: Product) => {
    setItems(prev => [...prev, { product, quantity: 1 }]);
  };

  const removeItem = (productId: string) => {
    setItems(prev => prev.filter(item => item.product.id !== productId));
  };

  return { items, addItem, removeItem };
}
```

### 3. Components

```tsx
// features/product/components/ProductList.tsx
function ProductList() {
  const { products, loading } = useProducts();
  const { addItem } = useCart();

  if (loading) return <Spinner />;

  return (
    <div className="grid">
      {products.map(product => (
        <ProductCard
          key={product.id}
          product={product}
          onAddToCart={() => addItem(product)}
        />
      ))}
    </div>
  );
}

// features/cart/components/CartSummary.tsx
function CartSummary() {
  const { items } = useCart();
  const total = items.reduce((sum, item) => 
    sum + item.product.price * item.quantity, 0
  );

  return (
    <div>
      <h2>Cart</h2>
      {items.map(item => (
        <CartItem key={item.product.id} item={item} />
      ))}
      <div>Total: ${total}</div>
    </div>
  );
}
```

## Next Steps

- [Detailed Structure](/guides/examples/mini-commerce/structure)
- [Feature Implementation](/guides/examples/mini-commerce/features)
- [State Management](/guides/examples/mini-commerce/state)
- [Testing](/guides/examples/mini-commerce/testing) 